<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for app/views/admin/login-view.vue</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="..\..\..\prettify.css" />
    <link rel="stylesheet" href="..\..\..\base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(..\..\..\sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="..\..\..\index.html">All files</a> / <a href="index.html">app/views/admin</a> login-view.vue
    </h1>
    <div class='clearfix'>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">&lt;<span class="cstat-no" title="statement not covered" >t<span class="fstat-no" title="function not covered" >em</span>plate&gt;</span>
  &lt;div class="common_body"&gt;
    &lt;h5 class="common_title"&gt;管理员登录&lt;/h5&gt;
<span class="cstat-no" title="statement not covered" >    &lt;el-form ref="form"</span>
             :model="form"
             label-width="80px"
             @keyup.enter.native="onSubmit()"&gt;
      &lt;el-f<span class="cstat-no" title="statement not covered" >orm-item label="账号"&gt;</span>
        &lt;el-input v-model="form.account"
<span class="cstat-no" title="statement not covered" >                  placeholder="请输入管理员账号"&gt;&lt;/el</span>-input&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label="密码"&gt;
        &lt;el-input v-model="form.password"
                  show-password
                  placeholder="请输入密码"&gt;&lt;/el-input&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label="验证码"&gt;
        &lt;el-input placeholder="请输入计算结果"
                  v-model="form.captcha"
                  type="tel"&gt;
          &lt;template slot="append"&gt;&lt;img class="reg_code_img"
                 :src="captchaSrc"
                 @click="captchaUpdata"&gt;&lt;/template&gt;
        &lt;/el-input&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label="保持登录"&gt;
        &lt;el-switch v-model="form.remPass"&gt;&lt;/el-switch&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item&gt;
        &lt;el-button type="primary"
                   @click="onSubmit"&gt;登录&lt;/el-button&gt;
        &lt;el-button @click="backIndex"&gt;返回首页&lt;/el-button&gt;
      &lt;/el-form-item&gt;
    &lt;/el-form&gt;
  &lt;/div&gt;
&lt;/template&gt;
&nbsp;
&lt;script&gt;
import { authApi } from "../../api";
import { mailCheck, passwordCheck, nickNameCheck } from "../../../utils/utils";
export default {
  data () {
    return {
      captchaSrc: '/api/captcha?time=' + new Date().getTime(),
      form: {
        account: '',
        password: '',
        captcha: '',
        remPass: false
<span class="cstat-no" title="statement not covered" >      }</span>
    }<span class="fstat-no" title="function not covered" ></span>
  },<span class="cstat-no" title="statement not covered" ></span>
  mounted () {
    let token = sessionStorage.getItem("adminToken") ? sessionStorage.getItem("adminToken") : localStorage.getItem("adminToken");
    if (token) {
      this.$router.replace({ path: '/cardadmin/center' });
    }
  },
  methods: {
    captchaUpdata () {
      this.captchaSrc = '/api/captcha?time=' + new Date().getTime();
    },<span class="fstat-no" title="function not covered" ></span>
    onSubmit () <span class="cstat-no" title="statement not covered" >{</span>
<span class="cstat-no" title="statement not covered" >      //检查格式</span>
<span class="cstat-no" title="statement not covered" >      for (var i in this.form) {</span>
        if (!this.form[i] &amp;&amp; i !== 'remPass') {
          this.$message.error('有数据为空，请检查！');
          return false;
        }
      }<span class="fstat-no" title="function not covered" ></span>
<span class="cstat-no" title="statement not covered" >      let params = this.form;</span>
      authApi.adminLogin(params).then(res =&gt; {
        console.log(res<span class="fstat-no" title="function not covered" >);</span>
        if (res.da<span class="cstat-no" title="statement not covered" >ta.co</span>de == 1) {
          if (this.form.remPass) {
            localStorage.setItem("adminToken", res.data.token);
<span class="cstat-no" title="statement not covered" >          } else {</span>
<span class="cstat-no" title="statement not covered" >            sessionStorage.setItem("adminToken", res.data.token);</span>
<span class="cstat-no" title="statement not covered" >          }</span>
<span class="cstat-no" title="statement not covered" >          this.$router.r</span>eplace({ path: '/cardadmin/center' });
        } else {
          this.$message.error(res.data.msg);
          this.capt<span class="cstat-no" title="statement not covered" >chaUpdata(</span>);
<span class="cstat-no" title="statement not covered" >        }<span class="fstat-no" title="function not covered" ></span></span>
      })<span class="cstat-no" title="statement not covered" ></span>
    },<span class="cstat-no" title="statement not covered" ></span>
    backIn<span class="cstat-no" title="statement not covered" >dex () {</span>
      this.$<span class="cstat-no" title="statement not covered" >router.push({ path: '/' });</span>
    }
  }<span class="cstat-no" title="statement not covered" ></span>
}
&lt;/script&gt;<span class="cstat-no" title="statement not covered" ></span>
&nbsp;
&lt;style lan<span class="cstat-no" title="statement not covered" >g="stylus" scoped&gt;&lt;/style&gt;</span>
<span class="cstat-no" title="statement not covered" ></span></pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Wed Sep 01 2021 14:04:21 GMT+0800 (GMT+08:00)
</div>
</div>
<script src="..\..\..\prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="..\..\..\sorter.js"></script>
</body>
</html>
