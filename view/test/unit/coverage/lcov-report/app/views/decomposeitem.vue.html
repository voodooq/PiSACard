<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for app/views/decomposeitem.vue</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="..\..\prettify.css" />
    <link rel="stylesheet" href="..\..\base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(..\..\sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="..\..\index.html">All files</a> / <a href="index.html">app/views</a> decomposeitem.vue
    </h1>
    <div class='clearfix'>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105</td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">&lt;<span class="cstat-no" title="statement not covered" >t<span class="fstat-no" title="function not covered" >em</span>plate&gt;</span>
    &lt;div class="common_body"&gt;
        &lt;userTop ref="userTop" /&gt;
<span class="cstat-no" title="statement not covered" >        &lt;decomposehead /&gt;</span>
        &lt;div class="wm_market_content_body type_dec"&gt;
            &lt;h5 class="common_title type_shop type_dec"&gt;道具分解&lt;/h5&gt;
            &lt;div class="wm_dec_item_list"&gt;
<span class="cstat-no" title="statement not covered" >                &lt;div class="wm_market_tips" v-if="myItem.length</span>&lt;=0"&gt;您暂时没有可以分解的道具！&lt;/div&gt;
                &lt;el-row :gutter="20" v-else&gt;
<span class="cstat-no" title="statement not covered" >                    &lt;el-col class="tc mb20" :md="</span>6" :sm="12" :xs="24" v-for="(item,index) in myItem" v-bind:key="index" v-show="item[1]&gt;0"&gt;
                        &lt;el-card class="box-card"&gt;
<span class="cstat-no" title="statement not covered" >                            &lt;div class="mb</span>10"&gt;&lt;img :src="'/static/otherImg/item/'+item[0]+'.png'" height="32px" width="32px" /&gt;&lt;/div&gt;
                            &lt;div class="mb20"&gt;{{itemData_[item[0]].name}}&lt;/div&gt;
<span class="cstat-no" title="statement not covered" >                            &lt;div class="mb5"&gt;需</span>要：1000&lt;/div&gt;
                            &lt;div class="mb5"&gt;持有：{{item[1]}}&lt;/div&gt;
<span class="cstat-no" title="statement not covered" >                            &lt;div class="mb2</span>0"&gt;满足条件可分解成270颗星星&lt;/div&gt;
                            &lt;el-button type="primary" @click="decomposeitem(item[0])" :disabled="item[1]&lt;1000"&gt;分解&lt;/el-button&gt;
<span class="cstat-no" title="statement not covered" >                        &lt;/el-</span>card&gt;
                    &lt;/el-col&gt;
                &lt;/e<span class="cstat-no" title="statement not covered" >l-row&gt;</span>
            &lt;/div&gt;
        &lt;/div&gt;<span class="cstat-no" title="statement not covered" ></span>
        &lt;menuView&gt;&lt;/menuView&gt;
    &lt;/div&gt;<span class="cstat-no" title="statement not covered" ></span>
&lt;/template&gt;
<span class="cstat-no" title="statement not covered" ></span>
&lt;script&gt;
import {Pref<span class="cstat-no" title="statement not covered" >ixInteger} from "../../utils/utils";</span>
import menuView from '../components/menu.vue';
import {authA<span class="cstat-no" title="statement not covered" >pi} from "../api";</span>
import userTop from '../components/topUserInfo.vue';
import de<span class="fstat-no" title="function not covered" >composehead from "../co</span>mponent<span class="cstat-no" title="statement not covered" >s/decomposehead";</span>
import itemData from '../../../../server/data/item';
&nbsp;
export default {
  data() {
    return {
        token:sessionStorage.getItem("token")?sessionStorage.getItem("token"):localStorage.getItem("token"),
        myItem:[],
        itemData_:itemData
    }
  },
  components: {
    menuView,
    userTop,
    decomposehead
  },
  created() {
      this.searchuseritem();
  },
  mounted() {
      this.$emit('l2dMassage','这里可以分解多余的道具，但是感觉很不值得。');
  },
  methods: {
    decomposeitem(itemId){
        this.$confirm('分解将会消耗道具，是否继续?', '提示', {
            confirmButtonText: '分解',
            cancelButtonText: '取消',
            type: 'warning'
        }).then(() =&gt; {
<span class="cstat-no" title="statement not covered" >            let params = {</span>
                tok<span class="fstat-no" title="function not covered" >en:th</span>is.token,
<span class="cstat-no" title="statement not covered" >                itemId:itemId</span>
            }
            authApi.decomposeitem(params).then(res =&gt; {
                console.log(res);
                if(res.data.code==0){
                    this.$message.error(res.data.msg);
                }else if(res.data.code==1){
                    this.$message({
                        message: '分解成功，获得'+res.data.getStar+'颗星星！',
                        type: 'success'
                    });
                    this.searchuseritem();
                    th<span class="fstat-no" title="function not covered" >is.$refs</span>.userTop.getUserInfo();
<span class="cstat-no" title="statement not covered" >                }</span>
            });
        }).catch(() =&gt;<span class="fstat-no" title="function not covered" > {         </span>
<span class="cstat-no" title="statement not covered" >        });</span>
    },
    searchuseritem(){
        let params = {
            token:this.token<span class="fstat-no" title="function not covered" ></span>
        }<span class="cstat-no" title="statement not covered" ></span>
        authApi.searchuseritem(params).then(res =&gt; {
<span class="cstat-no" title="statement not covered" >            console.log(res);</span>
            if(res.data.code==0){
                this.$message.error(res.data.msg);
            }else if(res.data.code==1){
                if(r<span class="fstat-no" title="function not covered" >es</span>.data.data){
                    this.myIt<span class="cstat-no" title="statement not covered" >em = Object.entries(res.data.data);</span>
                }
            }
        });
    },<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ></span></span>
  }<span class="cstat-no" title="statement not covered" ></span>
}<span class="cstat-no" title="statement not covered" ></span>
&lt;/script&gt;<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" ></span>
&lt;style scoped&gt;<span class="cstat-no" title="statement not covered" ></span>
.wm_dec_item_list{
    margin-top: 20px;
}
&lt;/style&gt;<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" ></span></pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Wed Sep 01 2021 14:04:21 GMT+0800 (GMT+08:00)
</div>
</div>
<script src="..\..\prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="..\..\sorter.js"></script>
</body>
</html>
